(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{296:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var i=a(5155),r=a(6766),s=a(6874),l=a.n(s),o=a(2368),n=a(2115),d=a(1934);let c={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},m={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},u=e=>{let{products:t}=e,[a,s]=(0,n.useState)(0),l=t.slice(0,4);return((0,n.useEffect)(()=>{if(0===l.length)return;let e=setInterval(()=>{s(e=>(e+1)%l.length)},3e3);return()=>clearInterval(e)},[l.length]),0===l.length)?(0,i.jsx)("div",{className:"w-full h-full flex items-center justify-center rounded-xl bg-teal-900/20 border border-teal-800/30 overflow-hidden",children:(0,i.jsx)("p",{className:"text-teal-400",children:"Loading products..."})}):(0,i.jsxs)("div",{className:"w-full h-full relative rounded-xl overflow-hidden border border-teal-800/30 shadow-2xl",children:[l.map((e,t)=>(0,i.jsx)(d.P.div,{className:"absolute inset-0",initial:{opacity:0},animate:{opacity:+(a===t),scale:a===t?1:1.1},transition:{duration:.7,ease:"easeInOut"},children:(0,i.jsxs)("div",{className:"relative w-full h-full",children:[(0,i.jsx)(r.default,{src:e.image||"/images/placeholder.jpg",alt:e.name,fill:!0,className:"object-cover",unoptimized:!0,sizes:"(max-width: 768px) 100vw, 50vw"}),(0,i.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-90"}),(0,i.jsxs)("div",{className:"absolute bottom-0 left-0 w-full p-6 text-white",children:[(0,i.jsx)("p",{className:"text-orange-400 font-medium mb-1",children:e.category}),(0,i.jsx)("h3",{className:"text-2xl font-bold mb-2",children:e.name}),(0,i.jsxs)("p",{className:"text-lg font-semibold",children:["$",e.price.toFixed(2)]})]})]})},e.id)),(0,i.jsx)("div",{className:"absolute bottom-3 right-3 flex space-x-2",children:l.map((e,t)=>(0,i.jsx)("button",{className:"w-2 h-2 rounded-full transition-all duration-300 ".concat(a===t?"bg-orange-400 w-6":"bg-white/50"),onClick:()=>s(t),"aria-label":"Go to slide ".concat(t+1)},t))})]})};function h(){let{addToCart:e}=(0,o._)(),[t,a]=(0,n.useState)([]),[s,h]=(0,n.useState)(!0),[p,x]=(0,n.useState)(null),[g,f]=(0,n.useState)(!1),b=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=b.current,t=new IntersectionObserver(e=>{let[a]=e;a.isIntersecting&&(f(!0),t.unobserve(a.target))},{threshold:.1});return e&&t.observe(e),()=>{e&&t.unobserve(e)}},[]),(0,n.useEffect)(()=>{(async()=>{try{h(!0);let e=await fetch("".concat("http://localhost:1337","/api/products?populate=*"));if(!e.ok)throw Error("Failed to fetch featured products");let{data:t}=await e.json(),i=t.map(e=>{var t,a,i,r,s,l;let o="/images/placeholder.jpg";try{(null==(s=e.image)||null==(r=s.formats)||null==(i=r.thumbnail)?void 0:i.url)?o="".concat("http://localhost:1337").concat(e.image.formats.thumbnail.url):(null==(l=e.image)?void 0:l.url)&&(o="".concat("http://localhost:1337").concat(e.image.url))}catch(e){console.error("Error parsing image URL:",e)}return{id:e.id,name:e.name||"Product Name",price:e.price||0,image:o,category:(null==(a=e.products)||null==(t=a[0])?void 0:t.name)||"Uncategorized"}});a(i)}catch(e){console.error("Error fetching featured products:",e),x("Failed to load featured products. Showing default selection.")}finally{h(!1)}})()},[]);let v=t=>{e(t)};return(0,i.jsxs)("main",{className:"min-h-screen bg-black",children:[(0,i.jsxs)("section",{className:"relative h-screen flex items-center overflow-hidden",children:[(0,i.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-black to-teal-700 opacity-80 animate-gradient"}),(0,i.jsx)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 z-10 w-full",children:(0,i.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8",children:[(0,i.jsxs)(d.P.div,{className:"md:w-1/2 text-left",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:[(0,i.jsxs)("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:["Your Ultimate Fitness"," ",(0,i.jsx)("span",{className:"text-orange-400 inline-block animate-pulse-slow",children:"Destination"})]}),(0,i.jsx)(d.P.p,{className:"text-xl text-gray-200 mb-8 max-w-lg",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.8},children:"Premium equipment and accessories for your fitness journey"}),(0,i.jsx)(d.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.8,duration:.5},whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,i.jsx)(l(),{href:"/products",className:"inline-block bg-orange-400 text-teal-900 px-8 py-3 rounded-lg font-semibold hover:bg-teal-700 hover:text-orange-400 transition duration-300 transform hover:translate-y-[-2px] shadow-lg hover:shadow-orange-400/50",children:"Shop Now"})})]}),(0,i.jsx)(d.P.div,{className:"md:w-1/2 h-80 md:h-96 relative mt-8 md:mt-0",initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut",delay:.3},children:(0,i.jsx)(u,{products:t})})]})})]}),(0,i.jsx)("section",{className:"py-24",ref:b,children:(0,i.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,i.jsx)(d.P.h2,{className:"text-3xl font-bold text-white text-center mb-12",initial:{opacity:0,y:-20},animate:g?{opacity:1,y:0}:{},transition:{duration:.5},children:(0,i.jsx)("span",{className:"border-b-4 border-orange-400 pb-2",children:"Featured Products"})}),s&&(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,i.jsxs)("div",{className:"bg-teal-900/20 rounded-lg overflow-hidden animate-pulse",children:[(0,i.jsx)("div",{className:"h-48 bg-teal-800/20"}),(0,i.jsxs)("div",{className:"p-4",children:[(0,i.jsx)("div",{className:"h-4 bg-teal-800/20 rounded w-1/3 mb-4"}),(0,i.jsx)("div",{className:"h-6 bg-teal-800/20 rounded mb-4"}),(0,i.jsx)("div",{className:"h-4 bg-teal-800/20 rounded w-1/4 mb-4"}),(0,i.jsx)("div",{className:"h-10 bg-teal-800/20 rounded w-full"})]})]},t))}),p&&(0,i.jsx)(d.P.div,{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-6 text-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:p}),!s&&!p&&(0,i.jsx)(d.P.div,{className:"grid grid-cols-1 md:grid-cols-4 gap-8",variants:c,initial:"hidden",animate:g?"visible":"hidden",children:t.map(e=>(0,i.jsxs)(d.P.div,{className:"bg-white/5 backdrop-blur-sm rounded-lg overflow-hidden border border-teal-800/30 hover:border-orange-400/50 transition-all duration-300 group",variants:m,whileHover:{y:-5,transition:{duration:.2}},children:[(0,i.jsxs)("div",{className:"relative h-48 overflow-hidden",children:[(0,i.jsx)(r.default,{src:e.image||"/images/placeholder.jpg",alt:e.name,quality:90,fill:!0,className:"object-cover transform group-hover:scale-110 transition-transform duration-700",unoptimized:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"}),(0,i.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black to-transparent opacity-0 group-hover:opacity-60 transition-opacity duration-300"})]}),(0,i.jsxs)("div",{className:"p-4",children:[(0,i.jsx)("span",{className:"text-sm text-orange-400 font-medium",children:e.category}),(0,i.jsx)("h3",{className:"text-lg font-semibold text-white mt-1 group-hover:text-orange-300 transition-colors duration-300",children:e.name}),(0,i.jsxs)("p",{className:"text-teal-200 font-semibold mt-2",children:["$",e.price.toFixed(2)]}),(0,i.jsx)(d.P.button,{onClick:()=>v(e),className:"block w-full mt-4 bg-orange-400 text-teal-900 py-2 text-center rounded-md font-medium transform transition-all duration-300",whileHover:{backgroundColor:"#fb923c",scale:1.02},whileTap:{scale:.98},children:"Add to Cart"})]})]},e.id))}),!s&&t.length>0&&(0,i.jsx)(d.P.div,{className:"text-center mt-12",initial:{opacity:0},animate:g?{opacity:1}:{},transition:{delay:.8,duration:.5},children:(0,i.jsx)(l(),{href:"/products",className:"text-orange-400 border border-orange-400 px-6 py-2 rounded-lg hover:bg-orange-400 hover:text-black transition-all duration-300",children:"View All Products"})})]})})]})}},2368:(e,t,a)=>{"use strict";a.d(t,{_:()=>o,e:()=>l});var i=a(5155),r=a(2115);let s=(0,r.createContext)(),l=e=>{let{children:t}=e,[a,l]=(0,r.useState)([]),[o,n]=(0,r.useState)(0);(0,r.useEffect)(()=>{let e=localStorage.getItem("cart");e&&l(JSON.parse(e))},[]),(0,r.useEffect)(()=>{localStorage.setItem("cart",JSON.stringify(a)),n(a.reduce((e,t)=>e+t.quantity,0))},[a]);let d=e=>{l(t=>t.filter(t=>t.id!==e))},c=()=>{l([])},m=()=>a.reduce((e,t)=>e+t.price*t.quantity,0),u=async e=>{try{let t={items:a,total:m(),...e,orderDate:new Date().toISOString()},i=Math.random().toString(36).substr(2,9).toUpperCase();if(localStorage.setItem("lastOrder",JSON.stringify({orderId:i,items:a,total:m(),shipping:e.shipping,paymentMethod:e.paymentMethod})),"ONLINE"===e.paymentMethod&&!(await fetch("/api/process-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:m(),paymentDetails:e.paymentDetails})})).ok)throw Error("Payment processing failed");if(!(await fetch("".concat("http://localhost:1337","/api/orders"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:t})})).ok)throw Error("Failed to process order");return c(),{success:!0,orderId:i}}catch(e){return console.error("Error processing order:",e),{success:!1,error:e.message}}};return(0,i.jsx)(s.Provider,{value:{cart:a,cartCount:o,addToCart:e=>{l(t=>t.find(t=>t.id===e.id)?t.map(t=>t.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{...e,quantity:1}])},removeFromCart:d,updateQuantity:(e,t)=>{if(t<1)return void d(e);l(a=>a.map(a=>a.id===e?{...a,quantity:t}:a))},clearCart:c,getCartTotal:m,processOrder:u},children:t})},o=()=>{let e=(0,r.useContext)(s);if(!e)throw Error("useCart must be used within a CartProvider");return e}},9936:(e,t,a)=>{Promise.resolve().then(a.bind(a,296))}},e=>{var t=t=>e(e.s=t);e.O(0,[874,766,934,441,684,358],()=>t(9936)),_N_E=e.O()}]);